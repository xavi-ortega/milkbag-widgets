<style>
  @font-face {
    font-family: 'Adigiana Toybox';
    src: url(https://assets.zyrosite.com/dOqN5r8PkNIoLq1y/Adigiana%20Toybox%20Regular.woff2)
  }

  section {
    font-family: 'Adigiana Toybox', system-ui;
  }

  section.current-burned-supply {
    width: 100%;
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    height: 150px;
    background: rgb(46, 170, 215);
  }


  section.current-burned-supply>div {
    color: white;
    text-align: center;
    font-size: 24px;
  }

  section.current-burned-supply>div>span {
    border-radius: 10px;
    background-color: rgba(255, 255, 255, 0.7);
    padding: 5px 15px;
    display: block;
    color: rgb(46 170 215);
    margin-top: 10px;
    font-weight: bold;
  }

  section.market-cap-goal-progress {
    width: 100%;
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    height: 75px;
    background: rgb(46, 170, 215);
  }


  section.market-cap-goal-progress>p {
    color: white;
    text-align: center;
    font-size: 24px;
  }

  section.market-cap-goal-progress>p>span {
    color: rgb(215, 46, 46);
    font-weight: bold;
  }
</style>
<section class="current-burned-supply">
  <div>
    SupplyðŸ¥› <br> <span id="current-supply">Loading...</span>
  </div>
  <div>
    BurnedðŸ”¥<br> <span id="burned-supply">Loading...</span>
  </div>
  <div>
    Market capðŸ“ˆ<br> <span id="market-cap">Loading...</span>
  </div>
</section>
<section class="market-cap-goal-progress">
  <p><span id="multiplier">(loading...)</span> till we hit 100 Million Market Cap</p>
</section>
<script>
  const INITIAL_SUPPLY = 1_000_000_000;
  const GOAL_MARKET_CAP = 100_000_000;
  const formatter = new Intl.NumberFormat('en', { maximumSignificantDigits: 10 });

  fetch('https://docs-demo.solana-mainnet.quiknode.pro/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      jsonrpc: '2.0',
      id: 1,
      method: 'getTokenSupply',
      params: ['2ubuHGFS4VJVxSEpvV3kDwz6JiuXdaAoGMwrwYC87tp8']
    })
  })
    .then(response => response.json())
    .then(({ result }) => {
      const supply = result.value.uiAmount
      document.getElementById('current-supply').innerHTML = formatter.format(Math.round(supply));
      document.getElementById('burned-supply').innerHTML = formatter.format(Math.round(INITIAL_SUPPLY - supply));

      fetch('https://public-api.birdeye.so/public/price?address=2ubuHGFS4VJVxSEpvV3kDwz6JiuXdaAoGMwrwYC87tp8', {
        method: 'GET',
        headers: {
          'X-API-KEY': '11b05329003a46be848674f3b2bd89de'
        }
      })
        .then(response => response.json())
        .then(({ data }) => {
          const price = data.value;
          const currentMarketCap = supply * price;
          const multiplier = GOAL_MARKET_CAP / currentMarketCap;
          const formattedMultiplier = formatter.format(Math.round(multiplier));
          document.getElementById('market-cap').innerHTML = '$ '.concat(formatter.format(Math.round(currentMarketCap)));
          document.getElementById('multiplier').innerHTML = formattedMultiplier.concat('x');
        }).catch(() => {
          document.getElementById('multiplier').innerHTML = 'N/A';
        });
    }).catch(() => {
      document.getElementById('current-supply').innerHTML = 'N/A';
      document.getElementById('burned-supply').innerHTML = 'N/A';
    });
</script>
